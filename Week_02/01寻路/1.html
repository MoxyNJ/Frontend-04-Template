<!--
 * @Descripttion: 
 * @version: 
 * @Author: sueRimn
 * @Date: 2020-09-01 00:06:53
 * @LastEditors: sueRimn
 * @LastEditTime: 2020-09-01 00:07:15
-->
<!-- å®ç°åœ°å›¾ç¼–è¾‘å™¨ -->
<!-- 
    æ–°å»ºä¸€ä¸ªå…ƒç´ éœ€è¦å››æ­¥ï¼š
        1. è·å–çˆ¶å…ƒç´ ä¿¡æ¯ï¼šlet conatiner = document.getElementById();
        2. æ–°å»ºä¸€ä¸ªå­å…ƒç´ ï¼šlet cell = document.createElement();
        3. ä¸ºå­å…ƒç´ æ·»åŠ classåï¼šcell.classList.add();
        4. æŠŠå­å…ƒç´ æ·»åŠ åˆ°çˆ¶å…ƒç´ ä¸­ï¼šcontainer.appendChild(cell); 
 -->
 
 <!-- 
     é—æ¼ï¼šéœ€è¦æŠŠä»¥å‰æ²¡ç”¨åˆ°è¿‡çš„ä»£ç æ–¹æ³•ï¼Œéƒ½è®°å½•ä¸‹æ¥ï¼Œæ³¨æ„çœ‹å¤‡æ³¨ï¼šğŸ€„ï¸
     é—æ¼ï¼šæ²¡ç”¨åˆ°çš„ä»£ç ï¼Œç›¸å…³çŸ¥è¯†å¯ä»¥æ‰©å±•è®°å½•ä¸€ä¸‹ã€‚
  -->

  <style>
    /* ğŸ€„ï¸è¿™é‡Œä¸ºä»€ä¹ˆè¦ç”¨line-height + vertical-align:top; */
    .cell {
        display: inline-block;
        line-height: 7px;   
        width:6px;
        height:6px;
        background-color: gray;
        border-bottom: solid 1px white;
        border-right: solid 1px white;
        vertical-align:middle;
    }
    #container{
        width: 701px;
    }
</style>

<div id="container"></div>
<button onclick="localStorage['map'] = JOSN.stringify(map)">save</button>

<script>
    // åˆ›å»ºä¸€ä¸ªä¸€ç»´æ•°ç»„ Array[1000]ï¼Œå¼•ç”¨åmapã€‚
    // ğŸ€„ï¸æ•°ç»„.fill(1); å¿«é€ŸæŠŠæ‰€æœ‰æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ éƒ½åˆå§‹åŒ–ä¸º1
    // ğŸ€„ï¸å¦‚æœlocalStorageä¸­çš„æ•°æ®ä¸ä¸º0ï¼Œè¯´æ˜ä¸æ˜¯åˆå§‹åŒ–ï¼Œç›´æ¥JSON.parse() ï¼ŒæŠŠæ•°æ®è½¬åŒ–ä¸ºJSONå¯¹è±¡ã€‚
    // ğŸ€„ï¸ã€Œé—®é¢˜ã€JSON.parseè½¬åŒ–çš„å¯¹è±¡æ˜¯æ•°ç»„ï¼Ÿï¼Ÿ
    let map = localStorage["map"] ? JOSN.parse(localStorage["map"]) : Array(1000).fill(0);

    let container = document.getElementById("container");
    for (let y = 0; y < 100; y++) {
        for (let x = 0; x < 100; x++) {
            let cell = document.createElement("div");
            cell.classList.add("cell");  // ä¸ºå…ƒç´ æ·»åŠ ä¸€ä¸ªclasså

            if(map[100*y + x] == 1){
                cell.style.backgroundColor = "black";   //ğŸ€„ï¸å¦‚æœæ•°ç»„å…ƒç´ ä½ç½®ä¸º1ï¼Œè¡¨æ˜å·²ç»ç”»ä¸Šçº¿äº†ï¼Œåˆ™èƒŒæ™¯è‰²ç½®ä¸º1.
            }

            // è¯¥æ–¹æ³•ç”¨æ¥åˆ¤æ–­ï¼š1.æ˜¯å¦æ˜¯åˆ·æ–°ï¼ˆå¯¹åœ°å›¾è¦ä¿®æ”¹ï¼‰ï¼›2.å¦‚æœåˆ·æ–°ï¼Œæ˜¯å·¦é”®(å¢åŠ )è¿˜æ˜¯å³é”®(åˆ é™¤)ï¼Ÿ
            // mousedown:1-é¼ æ ‡æŒ‰ä¸‹ï¼›0-é¼ æ ‡æ²¡æŒ‰ä¸‹
            // clear:1-è¦å³é”®æ¸…é™¤ï¼›0-ä¸æ¸…æ¥š
            cell.addEventListener("mousemove", () => {
                if(mousedown1) {  // åˆ¤æ–­æ˜¯å¦æŒ‰ä¸‹ï¼Œæ˜¯æ‰§è¡Œåˆ·æ–°åŠŸèƒ½
                    if(clear) {  // å¦‚æœä¸º1ï¼Œåˆ™æ˜¯å·¦é”® å¢åŠ 
                        cell.style.backgroundColor = "";
                        map[100 * y + x] = 0;
                    } else {     // å¦‚æœæ˜¯0ï¼Œåˆ™æ˜¯å³é”® åˆ é™¤
                        cell.style.backgroundColor = "black";
                        map[100 * y + x] = 1;
                    }
                }
            });
            container.appendChild(cell);  // æœ€åä¸è¦å¿˜è®°æ·»åŠ åˆ°çˆ¶å…ƒç´ ä¸­ã€‚
        }

        let mousedown1 = false;
        let clear = false;

        // é¼ æ ‡æŒ‰ä¸‹æ—¶ï¼Œ
        document.addEventListener("mousedown", e =>{
            mousedown1 = true;
            clear = (e.which === 3);  // e.whichä¸º3ï¼Œè¡¨æ˜æ˜¯é¼ æ ‡å³é”®å•æœºã€‚
        });

        // é¼ æ ‡æ¾å¼€æ—¶ï¼Œ
        document.addEventListener("mouseup", () => mousedown1 =  false );
        document.addEventListener("contextmenu", e => e.preventDefault());

        function path(map, start, end){

        }


    }
</script>