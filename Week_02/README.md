# 1. å¯»è·¯

# 01. å®ç°ä¸€ä¸ªåœ°å›¾ç¼–è¾‘å™¨

1. äºŒç»´æ•°ç»„è½¬ä¸€ç»´æ•°ç»„ï¼š[x, y] â€”> x * äºŒç»´æ•°ç»„æ€»é•¿ + y

   egï¼šä¸€ä¸ª [3, 3] çš„äºŒç»´æ•°ç»„ï¼š[2, 1] â€”> [ 2 * 3 + 1] â€”> [ 7 ]

- å¾ªç¯æ—¶ï¼Œå…ˆç”¨yï¼Œå†ç”¨xï¼Œæ˜¯ä¸ºäº†å’Œåæ ‡ä¸€è‡´ã€‚

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/41bfe3d0-586b-4c7e-89ad-538da1f776f4/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/41bfe3d0-586b-4c7e-89ad-538da1f776f4/Untitled.png)

## addEventListener()

```jsx
for (let y = 0; y < 100; y++) {
    for (let x = 0; x < 100; x++) {
				....
		}
}

// åˆ©ç”¨ xï¼Œy ä¸¤ä¸ªå‚æ•°æ¥éå†ä¸€ç»´æ•°ç»„ã€‚
```

- ```
  addEventListener("mousemove",() => {...});
  ```

  - é¼ æ ‡åœ¨äº‹ä»¶è§¦å‘åŒºåŸŸã€Œç§»åŠ¨ã€å³å¯è§¦å‘äº‹ä»¶ã€‚

- ```
  addEventListener("mousedown", () => {...});
  ```

  - é¼ æ ‡åœ¨äº‹ä»¶è§¦å‘åŒºåŸŸã€Œç‚¹å‡»ã€å³å¯è§¦å‘äº‹ä»¶ã€‚

[é¼ æ ‡äº‹ä»¶](https://www.notion.so/60fd7838791e4142ac8c2b3fde5708d5)

[é”®ç›˜äº‹ä»¶](https://www.notion.so/cbc01784627e40d4a5a08d92e10d30a1)

### jQuery mousedown() æ–¹æ³•

button åªè¯»ï¼Œæ•°å­—ï¼Œé¼ æ ‡æŒ‰é”®å€¼ã€‚

- ç”¨äº click æ—¶ï¼š0ï¼å·¦é”®ã€‚
- ç”¨äº mousedownã€mouseup æ—¶ï¼š0ï¼å·¦é”®ï¼Œ1ï¼ä¸­é—´é”®ï¼ˆæ»šè½®ï¼‰ï¼Œ2ï¼å³é”®ã€‚

which åªè¯»ï¼Œæ•°å­—ï¼Œé”®ç›˜ / é¼ æ ‡æŒ‰é”®å€¼ã€‚

- **ç”¨äº mousedownã€mouseup æ—¶ï¼š1ï¼å·¦é”®ï¼Œ2ï¼ä¸­é—´é”®ï¼ˆæ»šè½®ï¼‰ï¼Œ3ï¼å³é”®ï¼Œä¸ button åŒºåˆ«ã€‚**
- ç”¨äº keypress æ—¶ï¼šç­‰åŒäº charCode + å›é€€é”® + å›è½¦é”®ï¼›
- ç”¨äº keydownã€keyup æ—¶ï¼šè¿”å›ä»»æ„é”®å€¼ï¼›
- ç”¨äº click æ—¶ï¼š1ï¼å·¦é”®ï¼Œä¸ button çš„å€¼ç•¥æœ‰åŒºåˆ«ã€‚

```jsx
addEventListener("mousedown", e => {...});
concle.log(e.which);   // 1, 2, 3
contextmenu
```

- å•æœºå³é”®ï¼Œä¼šè°ƒå‡ºèœå•

  ```jsx
  document.addEventListener("contextmenu", e => e.preventDefault());
  
  // å¯ä»¥åœ¨documentå–æ¶ˆå³é”®å•æœºï¼Œå›è°ƒå‡ºèœå•ã€‚
  // document å°±æ˜¯æ–‡æ¡£çš„æ ¹èŠ‚ç‚¹
  ```

### Window localStorage å±æ€§

localStorage å’Œ sessionStorage å±æ€§å…è®¸åœ¨æµè§ˆå™¨ä¸­å­˜å‚¨ key/value å¯¹çš„æ•°æ®ã€‚

localStorage ç”¨äºé•¿ä¹…ä¿å­˜æ•´ä¸ªç½‘ç«™çš„æ•°æ®ï¼Œä¿å­˜çš„æ•°æ®æ²¡æœ‰è¿‡æœŸæ—¶é—´ï¼Œç›´åˆ°æ‰‹åŠ¨å»åˆ é™¤ã€‚

localStorage å±æ€§æ˜¯åªè¯»çš„ã€‚

### **JSON.parse() å’Œ JSON.stringify()**

- JSON.parse()

  ä»ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­è§£æå‡ºjsonå¯¹è±¡

  å­—ç¬¦ä¸² â€”> jsonå¯¹è±¡

  ```jsx
  // å­—ç¬¦ä¸²
  var data='{"name":"goatling"}'
  
  // è§£æå¯¹è±¡
  JSON.parse(data)
  // ç»“æœ
  // name:"goatling"
  ```

- JSON.stringify()

  jsonå¯¹è±¡ â€”> å­—ç¬¦ä¸²

  ```jsx
  var data={name:'goatling'}
  
  JSON.stringify(data)
  // ç»“æœ
  // '{"name":"goatling"}'
  ```

### æ•°ç»„æ“ä½œ

1. æ·»åŠ ã€åˆ é™¤ã€å¤´éƒ¨ã€å°¾éƒ¨

   - `push()`ï¼šã€å‹æ ˆã€‘å°¾éƒ¨ + æ·»åŠ  + è¿”å›æ–°æ•°ç»„é•¿åº¦(number)ã€‚  æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ã€‚
   - `pop()`ï¼šã€å¼¹æ ˆã€‘  å°¾éƒ¨ + åˆ é™¤ + è¿”å›åˆ é™¤çš„å…ƒç´ å€¼ã€‚  åˆ é™¤ä¸€ä¸ªå…ƒç´ ã€‚
   - `unshift()`ï¼šå¤´éƒ¨ + æ·»åŠ  + è¿”å›æ–°æ•°ç»„é•¿åº¦(number)ã€‚  æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ã€‚
   - `shift()`ï¼šå¤´éƒ¨ + åˆ é™¤ + è¿”å›åˆ é™¤çš„å…ƒç´ å€¼ã€‚  åˆ é™¤ä¸€ä¸ªå…ƒç´ ã€‚

   æ€»ç»“ï¼š

   - æ·»åŠ ï¼š`push()` + `unshift()`æ·»åŠ æ¯”ä»¥å‰æ•°ç»„æ›´å¤šï¼Œæ‰€ä»¥æ›´é•¿(`unshift`æ¯”`shift`é•¿)
   - åˆ é™¤ï¼š`pop()` + `shift()`ï¼Œåˆ é™¤ä»£ç æ›´çŸ­ã€‚

2. åˆ é™¤æ•°ç»„ï¼š`splice(èµ·ç‚¹,é•¿åº¦);`

   - èµ·ç‚¹ï¼šè¢«åˆ é™¤çš„å…ƒç´ ä¸‹æ ‡ï¼›
   - é•¿åº¦ï¼šè¢«åˆ é™¤çš„å…ƒç´ é•¿åº¦ã€‚

3. æ·»åŠ æ•°ç»„ï¼š`splice(èµ·ç‚¹,0,æ•°å€¼1,æ•°å€¼2,æ•°å€¼3,...)`

   - èµ·ç‚¹ï¼šè¦æ’å…¥çš„å…ƒç´ ä¸‹æ ‡ï¼›
   - 0   ï¼šï¼ˆè¦åˆ é™¤çš„å…ƒç´ ä¸ªæ•°ï¼Œå¡«0è¡¨ç¤ºä¸åˆ é™¤ï¼Œè€Œæ˜¯æ·»åŠ ï¼‰
   - æ•°å€¼1ï¼Œæ•°å€¼2...ï¼šè¦æ·»åŠ çš„æ•°å€¼ï¼Œæ·»åŠ å¤šä¸ªåˆ™å¯å¤šé€‰ã€‚

4. æ•°ç»„è¿æ¥ `concat(string1,string2,string3...)`

   - è¿”å›è¿æ¥å¥½çš„æ–°å­—ç¬¦ä¸²ï¼Œä¸åˆ é™¤æ—§å­—ç¬¦ä¸²ã€‚

5. æ•°ç»„åˆ†éš”`join(åŸæ•°ç»„ä¸­æ·»åŠ åˆ†éš”ç¬¦)`

   - æ‰€æœ‰å…ƒç´ æ”¾å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼š

     ```jsx
     var a = [1, 2, 3, 4, 5, 6];
     a,join('-');
     a; 
     // 1-2-3-4-5-6
     ```

æ·±åº¦ä¼˜å…ˆæœç´¢

é€’å½’

å¹¿åº¦ä¼˜å…ˆæœç´¢

------

# 02. Path(map, start, end);

- è·¯å¾„å‡½æ•°ï¼Œä½¿ç”¨é˜Ÿåˆ—çš„æ–¹æ³•ï¼Œå…ˆè¿›åå‡ºã€‚
- å…ˆè¿›ï¼š`push()`
- åå‡ºï¼š`shift()`

### æ€è·¯

1. åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼Œç”¨æ¥å½“é˜Ÿåˆ—ã€‚

2. `function insert()` å¾€é˜Ÿåˆ—ä¸­æ’å…¥æ–°å…ƒç´ ï¼ˆæ‰§è¡Œå¾€å‰èµ°ä¸€æ­¥ï¼‰ã€‚

   1. åˆ¤æ–­ï¼šæ˜¯å¦é‡åˆ°è¾¹ç•Œï¼Œé‡åˆ°äº†åˆ™ç›´æ¥returnï¼Œæ‰§è¡Œå¤±è´¥ã€‚æ²¡é‡åˆ°ç»§ç»­æ‰§è¡Œï¼›
   2. åˆ¤æ–­ï¼šæ˜¯å¦é‡åˆ°å¢™ï¼Œå¦‚æœé‡åˆ°åˆ™ç›´æ¥returnï¼Œæ‰§è¡Œå¤±è´¥ã€‚æ²¡é‡åˆ°ç»§ç»­æ‰§è¡Œï¼›
   3. åˆ¤æ–­ï¼šæ˜¯å¦å·²ç»èµ°è¿‡äº†ï¼Œå¦‚æœèµ°è¿‡åˆ™ç›´æ¥returnï¼Œæ‰§è¡Œå¤±è´¥ã€‚æ²¡é‡åˆ°ç»§ç»­æ‰§è¡Œã€‚
      - **2å’Œ3 ä¸¤æ­¥å¯ä»¥åˆäºŒä¸ºä¸€ã€‚ä¸€èµ·åˆ¤æ–­ï¼Œåªè¦æ˜¯æœ‰éšœç¢ç‰©ï¼Œå°±æ‰§è¡Œå¤±è´¥ã€‚**
   4. æ‰§è¡Œåˆ°è¿™é‡Œï¼Œè¯´æ˜å¯ä»¥å¾€å‰èµ°ï¼Œåˆ™æ ‡è®°è¯¥ä½ç½®åæ ‡æ•°å€¼ä¸ºâ€œå·²èµ°è¿™ä¸€æ­¥â€ / = 2ï¼›
   5. æŠŠè¿™ä¸ªåæ ‡æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­ï¼Œæ‰§è¡ŒæˆåŠŸã€‚

3. `while` åˆ¤æ–­æ˜¯å¦èµ°åˆ°endç»ˆç‚¹ğŸï¼Œæ²¡æœ‰èµ°åˆ°å°±å¾€å‰èµ°ä¸€æ­¥ï¼ˆå››ä¸ªæ–¹å‘ï¼‰ã€‚

   å½“é˜Ÿåˆ—ä¸ä¸º0å½“æ—¶å€™ï¼Œè¯´æ˜æœ‰æ•°æ®å°šæœªåˆ¤æ–­ï¼Œä¸€ç›´æ‰§è¡Œä»¥ä¸‹ä»£ç ã€‚å¦‚æœé˜Ÿåˆ—ä¸­æ²¡æœ‰æ•°æ®äº†ï¼Œæ­¤æ—¶è¿˜æ²¡è¿”å›trueï¼Œåˆ™è¯´æ˜æ²¡æœ‰ä¸€ä¸ªå¯ä»¥å®ç°çš„è·¯å¾„ï¼Œå¾ªç¯ç»“æŸã€‚

   1. ä»é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªå…ƒç´  [ åæ ‡ ]ï¼Œæ‰“å°å‡ºæ¥ä»¥ä¾›æŸ¥çœ‹ã€‚
   2. åˆ¤æ–­ï¼šå¦‚æœè¿™ä¸ªåæ ‡å·²ç»æ˜¯åœ¨ [endåæ ‡] çš„ä½ç½®ï¼Œåˆ™è¯æ˜å·²ç»è¾¾åˆ°ç›®çš„åœ°ï¼Œè¿”å›trueï¼›
   3. å¦‚æœæ²¡æœ‰è¾¾åˆ°endï¼Œåˆ™è¯æ˜è¿˜åœ¨è·¯ä¸Šï¼š
   4. `insert()` æ’å…¥æ–°åæ ‡ï¼Œç»§ç»­å¾€å‰èµ°ï¼šä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘
   5. è¿”å›falseï¼Œè¡¨æ˜è¿™ä¸€æ­¥æ²¡èµ°åˆ°endã€‚

æ¯æ¬¡åˆ¤æ–­æ˜¯å¦è¾¾åˆ°ç»ˆç‚¹ï¼Œéƒ½ä»é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªåæ ‡æ¥åˆ¤æ–­ã€‚æ²¡è¾¾åˆ°ç»ˆç‚¹ï¼Œå°±æ’å…¥å‘¨å›´çš„æ–°åæ ‡ï¼Œç„¶åç»§ç»­è¿”å›å¤´æ‰§è¡Œåˆ¤æ–­æ˜¯å¦è¾¾åˆ°ç»ˆç‚¹ã€‚å½“é˜Ÿåˆ—ä¸­æ‰€æœ‰åæ ‡éƒ½åˆ¤æ–­å®Œï¼Œè¿˜æ²¡æ‰¾åˆ°ç»ˆç‚¹ï¼Œé‚£ä¹ˆè¯´æ˜è¿™ä¸ªè·¯å¾„ä¸å­˜åœ¨ï¼Œè¿”å›falseï¼Œå¤±è´¥ã€‚

é˜Ÿåˆ—ï¼šå…ˆè¿›åå‡ºã€‚

- å…ˆè¿›ï¼šå¢åŠ å¯ä»¥æ­¥è¡Œè¾¾åˆ°çš„ã€éœ€è¦åˆ¤æ–­çš„ç‚¹ã€‚
- åå‡ºï¼šæå–ä¸€ä¸ªç”¨æ¥ç‚¹ï¼Œåˆ¤æ–­å®ƒæ˜¯å¦è¾¾åˆ°äº†ç»ˆç‚¹ï¼Œæ²¡æœ‰è¾¾åˆ°å°±ç»§ç»­å¢åŠ æ–°ç‚¹ï¼Œç›¸å½“äºç»§ç»­å¾€å‰èµ°ã€‚

------

# 03. å®ç°å¼‚æ­¥ç¼–ç¨‹å¯è§†åŒ–å¯»è·¯ç®—æ³•

- æ€æƒ³ï¼š

  åˆ©ç”¨`async / await` å®ç°å¼‚æ­¥ç¼–ç¨‹ã€‚åŠ å…¥sleep(30)ï¼ŒæŠŠè¾“å‡ºæ­¥è¡Œå˜è‰²çš„é€Ÿåº¦æ”¾æ…¢ã€‚

  éœ€è¦å®ç°åŒæ­¥çš„ç”¨`await` ã€‚

- `async/await` è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œåœ¨week1ä¸­æœ‰è®²è§£ã€‚

------

# 04. å®ç°å¯»æ‰¾è·¯å¾„æ˜¾ç¤º

- æ€æƒ³ï¼š

  åœ¨ä¸€ä¸ªä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ¢å¯»è·¯å¾„ä¹‹å‰ï¼Œå…ˆå¤åˆ¶ä¸€ä¸ªå°šæœªæ ‡è®°â€œå·²èµ°è¿‡çš„è·¯â€œçš„åœ°å›¾tableã€‚ç„¶åï¼Œåœ¨å¯»è·¯çš„è¿‡ç¨‹ä¸­ï¼Œå‡è®¾ï¼šå·²ç»èµ°åˆ°**ç‚¹a** (åæ ‡æ˜¯[2, 3])ï¼Œåˆ¤æ–­åå°šæœªè¾¾åˆ°ç»ˆç‚¹ï¼Œéœ€è¦ç»§ç»­å‘ä¸‹èµ°ï¼Œé‚£ä¹ˆä» aç‚¹èµ°çš„ã€ä¸‹ä¸€æ­¥çš„é‚£å‡ ä¸ªç‚¹ï¼ˆå¯èƒ½æ˜¯[2, 4], [3, 3], [3, 4]ç­‰ç­‰ï¼‰ã€‚è¿™äº›ç‚¹åœ¨åŸæ¥çš„åœ°å›¾ä¸Šï¼Œä¼šè¢«æ ‡è®°ä¸ºâ€œ2â€ï¼Œä½†æ˜¯åœ¨tableå¤åˆ¶åœ°å›¾ä¸Šï¼Œæ ‡è®°ä¸ºâ€œå‰ä¸€ä¸ªåæ ‡açš„ä½ç½®â€ã€‚è¿™æ ·ä¸€æ­¥æ­¥æ ‡è®°ä¸‹å»ã€‚å½“æœ‰åæ ‡è¾¾åˆ°ç»ˆç‚¹æ—¶ï¼Œåˆ©ç”¨å¤åˆ¶tableï¼Œæ¯ä¸€ä¸ªå½“å‰èŠ‚ç‚¹ä¸­ï¼Œéƒ½ä¿å­˜çš„ä¹‹å‰èµ°è¿‡æ¥çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°±åƒä¸€æ­¥è¸©ä¸€ä¸ªçŸ³å¤´ä¸€æ ·ï¼Œå¯ä»¥è¿½æº¯åˆ°æœ€å¼€å¤´çš„èŠ‚ç‚¹ã€‚

- `findPath(map, start, end)` å¯»æ‰¾è·¯å¾„

- `path()` æˆåŠŸè·¯å¾„

1. åœ¨`findPath()`ä¸­ï¼Œå…ˆåˆå§‹åŒ–ä¸€ä¸ªtableï¼Œè®°å½•åœ°å›¾çš„åŸå§‹ä¿¡æ¯ã€‚æ–¹ä¾¿ä¸ºæ¯ä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œæ·»åŠ å›æº¯èŠ‚ç‚¹ã€‚
2. æ¯èµ°ä¸€æ­¥ï¼Œå¯¹è¯¥èŠ‚ç‚¹æ‰§è¡Œï¼šèƒŒæ™¯è‰²è°ƒæ•´ä¸ºç»¿è‰²çš„åŒæ—¶ï¼Œåœ¨tableåœ°å›¾ä¸Šçš„è¯¥èŠ‚ç‚¹ä¿å­˜ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„ä½ç½®ä¿¡æ¯preã€‚ç„¶åæŠŠæ–°èŠ‚ç‚¹æ¨å…¥å¾…æ£€æŸ¥é˜Ÿåˆ—ä¸­ã€‚
3. åœ¨å¾…æ£€æŸ¥é˜Ÿåˆ—ä¸­ï¼Œä¸€æ—¦å‘ç°æ–°èŠ‚ç‚¹å°±æ˜¯ç›®çš„åœ°ã€‚åˆ™è¯æ˜å·²ç»è¾¾åˆ°ç›®çš„åœ°ã€‚
4. è¾¾åˆ°ç›®çš„åœ°ï¼Œæ­¤æ—¶æ‰§è¡Œå›æº¯ã€‚
   1. whileå¾ªç¯åˆ¤æ–­ï¼šè¢«åˆ¤æ–­çš„èŠ‚ç‚¹xï¼Œyï¼Œæ˜¯å¦æ˜¯æºå¤´èŠ‚ç‚¹ï¼Ÿæ˜¯åˆ™è·¯å¾„æç»˜ç»“æŸï¼Œä¸æ˜¯åˆ™ç»§ç»­å¾ªç¯ï¼Œå›æº¯æºå¤´ï¼›
   2. å¾ªç¯è¯­å¥ä¸­ï¼šå–æœ€å¼€å¤´çš„èŠ‚ç‚¹ä¿¡æ¯ï¼ˆåæ ‡ä¿¡æ¯ï¼‰ï¼Œæ”¾åˆ°`path`ä¸­ï¼Œpathæ˜¯ä¸€ä¸ªæ•°ç»„ã€‚
   3. æå–tableå¤åˆ¶åœ°å›¾ä¸­ï¼Œæœ€å¼€å¤´çš„èŠ‚ç‚¹ä¿¡æ¯ï¼ˆèµ°è¿‡åˆ°è¿™é‡Œçš„ã€ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„åæ ‡ä¿¡æ¯ï¼‰ï¼Œåˆ†åˆ«ä¿å­˜åœ¨`[x, y]`ä¸­ã€‚
   4. æŠŠæå–çš„ï¼Œä¸Šä¸€ä¸ªèŠ‚ç‚¹ä½ç½®ï¼Œé¢œè‰²ä¿®æ”¹ä¸ºç´«è‰²ã€‚
   5. ç»§ç»­å¾ªç¯ï¼Œç›´åˆ°æ‰¾åˆ°æºå¤´èŠ‚ç‚¹ç»“æŸã€‚

------

# 06. å®ç°å¯å‘å¼å¯»è·¯

- Sortedç±»çš„ç»“æ„ï¼š

  - ```
    constructor(data, compare)
    ```

    - `data`ï¼šä¸€ç»´æ•°ç»„ï¼Œæ¯ä¸€ä¸ªå…ƒç´ ä¸­å­˜æ”¾ä¸€ä¸ªåæ ‡ä¿¡æ¯ï¼š`[x, y]`
    - `compare` :ä¸€ä¸ªæ¯”è¾ƒå™¨ã€‚åœ¨è°ƒç”¨æ„é€ æ–¹æ³•çš„æ—¶å€™ä¼ å…¥ã€‚å¦‚æœæ²¡ä¼ å…¥ï¼Œå°±ç”¨ç®€å•çš„ `a-b`

  - ```
    take()
    ```

     ï¼šä»dataä¸­ï¼Œå–å‡ºä¸€ä¸ªæœ€å°çš„å€¼ï¼ˆç”¨

    ```
    compare()
    ```

    æ¯”è¾ƒå™¨æ¯”è¾ƒï¼‰ã€‚

    - 1. æ‰¾åˆ°æœ€å°å€¼å¹¶è¯»å–ï¼›
    - 2.æŠŠæœ€åä¸€ä¸ªå…ƒç´ æ”¾åˆ°æœ€å°å€¼çš„ä½ç½®ï¼›
    - 1. åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå–å‡ºæœ€å°å€¼

  - `give()`ï¼šæ”¾å…¥ä¸€ä¸ªæ–°å€¼ï¼Œåœ¨dataçš„æœ«å°¾ã€‚

### å¦‚ä½•ä¼ å…¥æ¯”è¾ƒå™¨ compare()

```jsx
let queue = new Sorted([start], (a, b) => distance(a) - distance(b));

function distance(point) {
            return (point[0] - end[0]) ** 2 + (point[1] - end[1]) ** 2;
        }
```

- åœ¨æ‰§è¡Œnew Sortedæ—¶ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥äº†ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼š

  `return distance(a) - distance(b)`

  è¿™é‡Œé¢åº”è¯¥æ¶‰åŠåˆ°ä½œç”¨åŸŸçš„é—®é¢˜ã€‚å³ï¼ŒæŠŠ`distance()`å‡½æ•°çš„ä½œç”¨åŸŸï¼Œæ‰©å±•åˆ°`Sortedå¯¹è±¡`ä¸­äº†ã€‚

- è¿™é‡Œä¼ å…¥çš„ç¬¬äºŒä¸ªå‚æ•°ï¼šç®­å¤´å‡½æ•°ï¼Œå¹¶æ²¡æœ‰è¢«æ‰§è¡Œã€‚è€Œæ˜¯æŠŠè¿™ä¸ªåŒ¿åå‡½æ•°çš„åœ°å€ï¼Œä¼ åˆ°äº†Sortedå¯¹è±¡ä¸­ã€‚æ­¤æ—¶ï¼ŒSortedä¸­çš„ç»“æ„åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š

  ```jsx
  class Sorted { 
  	constructor(data, (a,b) => distance(a) - distance(b)) {
  		this.data = data;
  		this.compare = (a,b) => distance(a) - distance(b);
  	}
  	... ...
  }
  
  æ¢å¥è¯è¯´ï¼Œæ­¤æ—¶this.compare åº”è¯¥çœ‹æˆæ˜¯ä¸€ä¸ªå¼•ç”¨ï¼Œå®ƒæ¥å—åˆ°æ„é€ å‡½æ•°ä¼ é€’è¿‡æ¥çš„compareå¼•ç”¨ï¼Œ
  	è¿™ä¸ªcompareå¼•ç”¨ï¼ŒæŒ‡å‘äº†é‚£ä¸ªç®­å¤´å‡½æ•°ï¼š (a,b) => distance(a) - distance(b)
  
  this.compareæŒ‡å‘ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼šfunction(a,b) { return distance(a) - distance(b); }
  æ‰€ä»¥ï¼Œåœ¨take()ä¸­ï¼Œæ¯”è¾ƒä¸¤ä¸ªdataå¤§å°çš„æ—¶å€™ï¼Œè°ƒç”¨this.compare() æ–¹æ³•ï¼Œåº”æ”¾å…¥ä¸¤ä¸ªdataå…ƒç´ ã€‚	
  ```

ç†è§£ï¼šäº‹å®ä¸Šï¼Œå®Œå…¨æ²¡æœ‰å¿…è¦è¿™æ ·ç»•ä¸€ä¸‹ï¼Œç›´æ¥æŠŠ `distance()` å‡½æ•°ï¼Œå’Œ`compareæ¯”è¾ƒå™¨`å…¨éƒ¨æ”¾å…¥`Sorted`ç±»ä¸­å°±ç®—äº†ã€‚

è§£ç­”ï¼šå®Œå…¨ä¸å¯ä»¥ï¼startå’Œendä¸¤ä¸ªæ•°å€¼ä¼ é€’ä¼šå˜å¾—å¾ˆéº»çƒ¦ï¼Œè¿™é‡Œé¢æ¶‰åŠåˆ°ä½œç”¨åŸŸçš„é—®é¢˜ï¼Œå…ˆä¸ç ”ç©¶äº†ã€‚è€å¸ˆçš„æ€è·¯åº”è¯¥æ˜¯æœ€ç®€æ´æ˜“æ‡‚çš„äº†ã€‚

------

## æ•²ä»£ç é‡åˆ°çš„é—®é¢˜

1. `<script></script>` æˆ‘å°‘å†™äº†ä¸€ä¸ªç»“å°¾`</script>` å¯¼è‡´scriptä¸€ç›´æ— æ³•è¾“å‡ºã€‚



# 2. LLç®—æ³•æ„å»ºASTï½œå››åˆ™è¿ç®—

ç¼–è¯‘åŸç†ã€‚ æ–°æ‰‹ä¸Šè·¯ï¼Œæœ‰ç‚¹è¿·ç³Šã€‚

# å››åˆ™è¿ç®—

1. è¯æ³•å®šä¹‰ï¼š

   ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e2de5dc8-19ad-4780-883d-e6d5a5dd1254/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e2de5dc8-19ad-4780-883d-e6d5a5dd1254/Untitled.png)

2. è¯­æ³•å®šä¹‰ï¼š

   ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c759cc67-583b-4e94-bfed-1efb98f2702e/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c759cc67-583b-4e94-bfed-1efb98f2702e/Untitled.png)

   ç»¿è‰²ï¼šç»ˆç»“ç¬¦ TerminalSymbol

   æ²¡æœ‰ç»¿è‰²ï¼šéç»ˆç»“ç¬¦ NoneTerminalSymbol

3. LLè¯­æ³•åˆ†æ

   ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/68b2fa44-f75d-4248-ac2b-9fbd4f7f9d2a/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/68b2fa44-f75d-4248-ac2b-9fbd4f7f9d2a/Untitled.png)

   ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/3d8f785f-f07d-4218-adc9-c1f77d90b82c/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/3d8f785f-f07d-4218-adc9-c1f77d90b82c/Untitled.png)

## ä½¿ç”¨LLç®—æ³•æ„å»ºASTï½œæ­£åˆ™è¡¨è¾¾å¼

- `regexp.exec(string)`ï¼šæ‰«æåŸå­—ç¬¦ä¸²ä¸­çš„å†…å®¹ï¼ŒåŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ã€‚å¦‚æœåŒ¹é…åˆ°è¿”å›åŒ¹é…æ•°ç»„ï¼Œå¦åˆ™è¿”å› nullã€‚

  - æ­¤æ•°ç»„çš„ç¬¬ 0 ä¸ªå…ƒç´ æ˜¯ä¸æ­£åˆ™è¡¨è¾¾å¼ç›¸åŒ¹é…çš„æ–‡æœ¬ï¼Œç¬¬ 1 ä¸ªå…ƒç´ æ˜¯ä¸ RegExpObject çš„ç¬¬ 1 ä¸ªå­è¡¨è¾¾å¼ç›¸åŒ¹é…çš„æ–‡æœ¬ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œç¬¬ 2 ä¸ªå…ƒç´ æ˜¯ä¸ RegExpObject çš„ç¬¬ 2 ä¸ªå­è¡¨è¾¾å¼ç›¸åŒ¹é…çš„æ–‡æœ¬ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œä»¥æ­¤ç±»æ¨ã€‚
  - exec()è¿”å›çš„å­—ç¬¦ä¸²æ•°ç»„ä¸­ï¼šlengthå±æ€§è¡¨ç¤ºåŒ¹é…åˆ°å¤šå°‘ç§ç±»å‹ã€‚index å±æ€§å£°æ˜çš„æ˜¯åŒ¹é…æ–‡æœ¬çš„ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ä½ç½®ã€‚input å±æ€§åˆ™å­˜æ”¾çš„æ˜¯è¢«æ£€ç´¢çš„å­—ç¬¦ä¸² stringã€‚
  - å½“ RegExpObject æ˜¯ä¸€ä¸ªå…¨å±€æ­£åˆ™è¡¨è¾¾å¼æ—¶ï¼Œexec() çš„è¡Œä¸ºå°±ç¨å¾®å¤æ‚ä¸€äº›ã€‚å®ƒä¼šåœ¨ RegExpObject çš„ lastIndex å±æ€§æŒ‡å®šçš„å­—ç¬¦å¤„å¼€å§‹æ£€ç´¢å­—ç¬¦ä¸² stringã€‚å½“ exec() æ‰¾åˆ°äº†ä¸è¡¨è¾¾å¼ç›¸åŒ¹é…çš„æ–‡æœ¬æ—¶ï¼Œåœ¨åŒ¹é…åï¼Œå®ƒå°†æŠŠ RegExpObject çš„ lastIndex å±æ€§è®¾ç½®ä¸ºåŒ¹é…æ–‡æœ¬çš„æœ€åä¸€ä¸ªå­—ç¬¦çš„ä¸‹ä¸€ä¸ªä½ç½®ã€‚è¿™å°±æ˜¯è¯´ï¼Œæ‚¨å¯ä»¥é€šè¿‡åå¤è°ƒç”¨ exec() æ–¹æ³•æ¥éå†å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰åŒ¹é…æ–‡æœ¬ã€‚å½“ exec() å†ä¹Ÿæ‰¾ä¸åˆ°åŒ¹é…çš„æ–‡æœ¬æ—¶ï¼Œå®ƒå°†è¿”å› nullï¼Œå¹¶æŠŠ lastIndex å±æ€§é‡ç½®ä¸º 0ã€‚

- forå¾ªç¯æ‰«æ`result` ä¸­çš„å€¼ï¼Œå¦‚æœåœ¨å¯¹åº”ä½ç½®æ‰¾åˆ°`result`æœ‰å€¼ï¼Œåˆ™log å‡ºå†…å®¹ã€‚

  ```jsx
  var regexp = /([0-9\\.]+)|([ \\t]+)|([\\r\\n]+)|(\\*)|(\\/)|(\\+)|(\\-)/g
  var dictionary = ["Number", "Whitespace", "LineTerminator", "*", "/", "+", "-"];
  
  function tokenize(source) {
      var result = null;
      while(true) {
          result = regexp.exec(source);
          if(!result) break;
  				// éå†ï¼Œè¾“å‡ºresultä¸­çš„å€¼ã€‚
          for(var i = 1; i<= dictionary.length; i++) {
              if(result[i])
                  console.log(dictionary[i-1]);
          }
  				// è¾“å‡ºæ•´ä¸ªresultä¸­çš„å€¼ã€‚
          console.log(result);
      }
  }
  // æ‰§è¡Œï¼š
  tokenize("1024 + 10 * 25");
  </script>
  
  // è¿è¡Œæ—¶çš„æŸä¸€æ—¶åˆ»ä¸‹ï¼Œregexpä¸­çš„å±æ€§ï¼š
  dotAll: (...)
  flags: (...)
  global: (...)
  ignoreCase: (...)
  lastIndex: 5
  multiline: (...)
  source: (...)
  sticky: (...)
  unicode: (...)
  
  // è¿è¡Œæ—¶çš„åŒä¸€æ—¶åˆ»ä¸‹ï¼Œresult(exec()è¿”å›çš„æ•°ç»„)ä¸­çš„å±æ€§ï¼š
  0: " "
  1: undefined
  2: " "
  3: undefined
  4: undefined
  5: undefined
  6: undefined
  7: undefined
  groups: undefined
  index: 4
  input: "1024 + 10 * 25"
  length: 8
  ```

- `RegExpObject.lastIndex`

  è¯¥å±æ€§å­˜æ”¾ä¸€ä¸ªæ•´æ•°ï¼Œå®ƒå£°æ˜çš„æ˜¯ä¸Šä¸€æ¬¡åŒ¹é…æ–‡æœ¬ä¹‹åçš„ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ä½ç½®ï¼ˆä¸‹ä¸€ä¸ªå¾…åŒ¹é…å¾…å­—ç¬¦ï¼‰ã€‚